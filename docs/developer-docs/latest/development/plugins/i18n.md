# Internationalization (i18n)

> Internationalization is the design and development of a product, application or document content that enables easy localization for target audiences that vary in culture, region, or language.
>
> -- <cite>[W3C](https://www.w3.org/International/questions/qa-i18n.en#i18n)</cite>

The Internationalization (i18n) plugin allows Strapi users to create, manage and distribute content in several languages.
It's an optional plugin that you can [install from the Marketplace]().
<!-- insert cross-link to user guide here -->
<!-- TODO: add programmatic instructions to install plugin? like strapi install i18n-->

The i18n plugin:

- allows admin panel users to create several localized versions of their content (see [user guide]())
<!-- insert cross-link to user guide here -->
- allows developers to build localized projects by fetching and consuming the right content depending on the country/language of the audience.

::: tip NOTE
The i18n plugin does not translate the users' content nor adapt the admin interface to languages specificities (like displaying the admin panel in Right To Left (RTL) format).
:::
## Using the Content API with i18n

The i18n plugin adds new features to the [Content API](/developer-docs/latest/developer-resources/content-api/content-api.md):

* a new [`locale`](#getting-localized-entries-with-the-locale-parameter) parameter to fetch content only for a specified locale
* the ability to create a localized entry, either [from scratch](#creating-a-new-localized-entry) or [for an existing localized entry](#creating-a-localization-for-an-existing-entry)
<!-- TODO find a place for this: updating a localized entry (PUT) can not update its locale -->
### Getting localized entries with the `locale` parameter

The `_locale` [API parameter](/developer-docs/latest/developer-resources/content-api/content-api.md#api-parameters) can be used to fetch entries only for a specified locale. It takes a locale code as value.

:::tip TIP
 To fetch content for a locale, make sure it has been already [added to Strapi in the admin panel GUI]().
<!-- TODO insert cross-link to user guide here : section should describe General > Settings > i18n > add a locale -->
:::

The format for a GET request is the following:

```js
GET /{content-type}?_locale={locale-code}
```

If the `locale` parameter isn't defined, it will be set to the default locale. `en` is the default locale when i18n is installed, so by default a request to `http://localhost:1337/restaurants` will return the same response as a request to `http://localhost:1337/restaurants?_locale=en`. 

::: tip TIP
Another locale can be [set as the default locale]() in the admin panel.
<!-- TODO: insert cross-link to user guide on how to setup a different default locale -->
:::

<!-- ? be more explicit about what a locale code is. What are the available locales? Is there a list? -->
<!-- TODO maybe add a link to user guide here if Mégane describes the list of available locales -->

When the i18n plugin is installed, the response to requests includes fields that are specific to i18n:

- `locale` (string) is the locale code for the content entry
- `localizations` (array) lists the existing localizations for this content entry; these localizations objects have 3 properties:
  - `id` (number) is the id of the localized content entry
  - `locale`(string) is the locale code for the localized content entry
  - `published_at` (string) is the date and time when the localized content entry was [published](/developer-docs/latest/concepts/draft-and-publish.md#publishing-a-draft), in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format

#### Example

:::: tabs

::: tab Request

**Example request**

```js
GET http://localhost:1337/restaurants?_locale=fr
```

:::

::: tab Response

**Example response**

```json
[
  {
      "id": 3,
      "name": "Restaurant A",
      "slug": "restaurant-a",
      "price_range": null,
      "contact_email": null,
      "stars": 0,
      "averagePrice": null,
      "address": null,
      "timestamp": null,
      "short_description": null,
      "since": null,
      "description": "Cozy restaurant in the valley.",
      "menu": null,
      "locale": "en",
      "published_at": "2021-04-07T10:10:31.949Z",
      "created_at": "2021-04-07T10:10:24.244Z",
      "updated_at": "2021-04-07T10:10:32.008Z",
      "closing_period": null,
      "services": [],
      "opening_times": [],
      "dz": [],
      "cover": null,
      "images": [],
      "categories": [],
      "localizations": [
          {
              "id": 4,
              "locale": "fr",
              "published_at": "2021-04-07T10:12:50.247Z"
          }
      ]
  },
  {
      "id": 5,
      "name": "Restaurant B",
      "slug": "restaurant-b",
      "price_range": null,
      "contact_email": null,
      "stars": 1,
      "averagePrice": null,
      "address": null,
      "timestamp": null,
      "short_description": null,
      "since": null,
      "description": "Restaurant with terraza in front of the lake",
      "menu": null,
      "locale": "en",
      "published_at": "2021-04-07T12:51:43.681Z",
      "created_at": "2021-04-07T12:51:43.695Z",
      "updated_at": "2021-04-07T12:51:43.695Z",
      "closing_period": null,
      "services": [],
      "opening_times": [],
      "dz": [],
      "cover": null,
      "images": [],
      "categories": [],
      "localizations": [
          {
              "id": 6,
              "locale": "fr",
              "published_at": "2021-04-07T12:59:13.641Z"
          }
      ]
  }
]
```

:::
::::

### Creating a new localized entry

To create a localized entry from scratch, send a POST request.

If no locale has been passed in the request body, the entry is created using the default locale for the application:

:::: tabs
::: tab Request
**Example request**
```js
POST http://localhost:1337/restaurants
```

```json
{
  "name": "Restaurant B",
  "slug": "restaurant-b",
  "stars": 1,
  "description": "Restaurant with terraza in front of the lake"
}
```
:::

::: tab Response

**Example response**
```json
{
    "id": 5,
    "name": "Restaurant B",
    "slug": "restaurant-b",
    "price_range": null,
    "contact_email": null,
    "stars": 1,
    "averagePrice": null,
    "address": null,
    "timestamp": null,
    "short_description": null,
    "since": null,
    "description": "Restaurant with terraza in front of the lake",
    "menu": null,
    "locale": "en",
    "published_at": "2021-04-07T12:51:43.681Z",
    "created_at": "2021-04-07T12:51:43.695Z",
    "updated_at": "2021-04-07T12:51:43.695Z",
    "closing_period": null,
    "services": [],
    "opening_times": [],
    "dz": [],
    "cover": null,
    "images": [],
    "categories": [],
    "localizations": []
}
```
:::
::::

To create a localized entry for a locale different from the default one, add the `locale` attribute to the body of the POST request:

:::: tabs
::: tab Request
**Example request**
```js
POST http://localhost:1337/restaurants
```

```json
{
  "name": "Restaurant F",
  "slug": "restaurant-f",
  "stars": 1,
  "description": "Restaurant face à la mer",
  "locale": "fr"
}
```
:::

::: tab Response
**Example response**
```json
{
    "id": 8,
    "name": "Restaurant F",
    "slug": "restaurant-f",
    "price_range": null,
    "contact_email": null,
    "stars": 1,
    "averagePrice": null,
    "address": null,
    "timestamp": null,
    "short_description": null,
    "since": null,
    "description": "Restaurant face à la mer",
    "menu": null,
    "locale": "fr",
    "published_at": "2021-04-07T13:22:46.589Z",
    "created_at": "2021-04-07T13:22:46.617Z",
    "updated_at": "2021-04-07T13:22:46.617Z",
    "closing_period": null,
    "services": [],
    "opening_times": [],
    "dz": [],
    "cover": null,
    "images": [],
    "categories": [],
    "localizations": []
}
```
:::
::::

### Creating a localization for an existing entry

To create another localization for an existing localized entry, send a POST request to the appropriate URL depending on the type of content:

| Content-Type    | Request URL format                       |
|:----------------|:-----------------------------------------|
| Single Type     | `POST /{content-type}/:id/localizations` |  
| Collection Type | `POST /{content-type}/localizations`     |


::: warning CAUTION
When creating a localization for existing localized entries, the body of the POST request can only accept localized fields.
:::

When sending the request, Strapi will:

1. use the `id` as base entity for the non-localized fields and copy them in the new entity
2. then create a new entity for the given locale and link it with the base entity.
 
**Example:**

Given an article with `id=2` with the following shape:
<!-- TODO adapt example to match restaurants example that we have throughout this doc -->

```json
{
	"id": "2",
	"locale": "en-UK",
	"non_localized_field_A": "foo",
	"non_localized_field_B": "bar",
	"localized_field": "something"
}
```

:::: tabs

::: tab Request

**Example request**

```js
POST http://localhost:1337/articles/2/localizations
```

**body**
<!-- * We never used "body" before but I think it's a good idea! We should probably update all existing examples in this page to use this format — so it's even more explicit that this code block is the body of the request -->

```json
{
	"locale": "en-US",
	"localized_field": "foobar"
}
```

This query will:
<!-- TODO merge this text with the description at lines 615-616, because it seems like we are talking about the same thing, but in greater details. -->

1. create a new entry in `en-US`
2. link the created entry with `article:2` (they will share the same localizations object)
3. copy every non-localized fields from `article:2` into the new entry and keep the localized fields from the request's body

:::

::: tab Response

**Example reponse**

```json
{
	"id": "3",
	"locale": "en-US",
	"non_localized_field_A": "foo",
	"non_localized_field_B": "bar",
	"localized_field": "something",
	"localized_field": "foobar"
}
```
:::

:::: 
### Updating an entry


<!-- TODO maybe create another section "Update a localized entry" and follow the same format: "Request" tab with example PUT request and body, and "Response" tab with example response -->

::: warning CAUTION
When updating a localized entry (with `PUT /{localized-content-type}/:id`), you cannot change its locale (if you set a `locale` attribute in the request body, it will be ignored).
:::
